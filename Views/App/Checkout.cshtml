@model IEnumerable<CartViewModel>
<style>
    .btn-confirm{
        margin: 4px 0 0 30px;
    }

    .btn-css-cancel{
        margin-bottom: 8px;
    }
</style>
<div class="row">
    <h3>Xác nhận đơn hàng</h3>
    <table class="table table-bordered table-hover">
        <thead>
            <th>Tên sản phẩm</th>
            <th>Chất liệu</th>
            <th>Size</th>
            <th>Độ tinh khiết</th>
            <th>Trọng lượng</th>
            <th>Số lượng</th>
            <th>Đơn giá</th>
            <th>Thành tiền</th>
        </thead>
        <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.productName</td>
                <td>@item.materialName</td>
                <td>@item.sizeName</td>
                <td>@item.purityName</td>
                <td>@item.weight</td>
                <td>@item.quantity</td>
                <td>@String.Format("{0:N0}", item.price) VND</td>
                <td>@String.Format("{0:N0}", item.price * item.quantity) VND</td>
            </tr>
        }
        </tbody>
    </table>
    <div class="col-md-4 col-md-offset-8 text-right">
        <table class="table table-condensed">
            <tr>
                <td class="text-right">Subtotal</td>
                <td class="text-right">@String.Format("{0:N0}", Model.Sum(item => item.price * item.quantity)) VND</td>
            </tr>
            <tr>
                <td class="text-right">Phí ship</td>
                <td class="text-right">0 VND</td>
            </tr>
            <tr>
                <td class="text-right">Tổng:</td>
                <td class="text-right">@String.Format("{0:N0}", Model.Sum(item => item.price * item.quantity)) VND</td>
            </tr>
        </table>
        <form method="post" action="/App/CheckoutOrder">
            <input type="hidden" name="cartData" value='@Html.Raw(Json.Serialize(Model))' />
            <div class="form-group">
                <label for="consigneeName">Consignee Name:</label>
                <input type="text" id="consigneeName" name="consigneeName" class="form-control" required />
            </div>
            <div class="form-group">
                <label for="deliveryAddress">Địa chỉ giao hàng:</label>
                <input type="text" id="deliveryAddress" name="deliveryAddress" class="form-control" required />
            </div>
            <div class="form-group">
                <label for="phoneNumber">Số điện thoại:</label>
                <input type="text" id="phoneNumber" name="phoneNumber" class="form-control" required />
            </div>
            <div class="form-group">
                <label for="note">Ghi chú:</label>
                <textarea id="note" name="note" class="form-control"></textarea>
            </div>
            <select name="paymentMethodId">
                @foreach (var paymentMethod in ViewBag.PaymentMethods)
                {
                    <option value="@paymentMethod.Id">@paymentMethod.Name</option>
                }
            </select>
            <button type="submit" class="btn btn-success btn-confirm">Xác nhận thanh toán</button>
        </form>
        <a href="/App/Shop" class="btn btn-info btn-css-cancel">Hủy</a>
    </div>
</div>
